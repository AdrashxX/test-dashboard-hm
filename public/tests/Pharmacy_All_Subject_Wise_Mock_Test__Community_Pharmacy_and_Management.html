<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Community Pharmacy &amp; Management</title>
<style>
:root{--bg:#f6f7fb;--card:#fff;--border:#e6eaf3;--text:#0b192d;--muted:#6b7280;--blue:#2b8ef6;--blue2:#0ea5e9;--green:#22c55e;--red:#ef4444;--purple:#7c3aed;--shadow:0 2px 12px rgba(2,6,23,.06)}
*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text)}
/* Top bar */
.top{background:#fff;border-bottom:1px solid var(--border);padding:12px 18px;display:flex;align-items:center;gap:12px}
.bcrumb{font-weight:700} .bchip{margin-left:10px;background:#eef2ff;border:1px solid #c7d2fe;color:#374151;border-radius:8px;padding:3px 8px;font-weight:700}
.tsp{flex:1} .timer{background:#eef2ff;border:1px solid #c7d2fe;padding:4px 10px;border-radius:8px;font-weight:700}
/* Main layout */
.main{display:grid;grid-template-columns:1fr 340px;gap:16px;max-width:1200px;margin:0 auto;padding:16px}
.card{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);overflow:hidden}
/* Question header row (marking + timer + review) */
.qhdr{display:flex;align-items:center;gap:10px;padding:12px 16px;border-bottom:1px solid var(--border)}
.pill{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:6px;padding:4px 8px;font-weight:700}
.pill.green{background:#ecfdf5;border-color:#bbf7d0;color:#166534} .pill.red{background:#fee2e2;border-color:#fecaca;color:#991b1b}
.qwrap{padding:16px}
.qid{color:#6b7280;font-size:13px;margin-bottom:6px}
.qtext{font-weight:700;line-height:1.6;margin:6px 0 14px 0}
.opt{display:flex;align-items:center;gap:10px;border:1px solid var(--border);border-radius:10px;padding:12px;margin:10px 0;background:#fff;cursor:pointer;transition:box-shadow .15s,border-color .15s}
.rdot{width:16px;height:16px;border-radius:50%;border:2px solid #cbd5e1;background:#fff}
.opt.selected{border-color:var(--blue);box-shadow:0 0 0 3px rgba(43,142,246,.15)}
/* bottom actions */
.bottom{display:flex;justify-content:space-between;gap:10px;padding:12px 16px;border-top:1px solid var(--border);background:#fff}
.btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 14px;cursor:pointer;font-weight:600}
.btn.ghost{background:#f8fafc}
.btn.primary{background:var(--blue);color:#fff;border-color:var(--blue)}
/* Sidebar */
.sidebar{padding:12px}
.user{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.uav{width:44px;height:44px;border-radius:50%;background:#fee2e2;color:#7f1d1d;font-weight:800;display:flex;align-items:center;justify-content:center}
.uname{font-weight:700}
.stat{border-top:1px solid var(--border);padding-top:10px;margin-top:6px}
.statrow{display:flex;align-items:center;gap:8px;margin:8px 0;color:#111827}
.sdot{width:10px;height:10px;border-radius:50%}
.sgreen{background:#22c55e}.sred{background:#ef4444}.sgrey{background:#94a3b8}.spurple{background:#7c3aed}
.palet{margin-top:10px;border-top:1px solid var(--border);padding-top:12px}
.palgrid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.p{height:40px;border:1px solid var(--border);border-radius:10px;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700}
.p.active{outline:2px solid var(--purple)} .p.answered{background:#ecfdf5;border-color:#bbf7d0} .p.not-answered{background:#fee2e2;border-color:#fecaca}
.subwrap{position:sticky;bottom:0;background:#fff;padding-top:12px}
.submit{width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--blue);background:var(--blue);color:#fff;font-weight:800;cursor:pointer}
/* Result screen */
.result{display:none;max-width:760px;margin:16px auto}
.rbox{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:18px}
.score{font-weight:900;font-size:36px;color:var(--blue);text-align:center}
.subtle{text-align:center;color:#6b7280}
.sol{border:1px solid var(--border);border-radius:10px;padding:12px;margin:12px 0}
.sol .ok{background:#ecfdf5;border:1px solid #bbf7d0;border-radius:8px;padding:8px;margin:6px 0}
.sol .bad{background:#fee2e2;border:1px solid #fecaca;border-radius:8px;padding:8px;margin:6px 0}
@media(max-width:1000px){.main{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="top">
    <div class="bcrumb">Community Pharmacy &amp; Management</div>
    <span class="bchip">Community Pharmacy &amp; Management (1)</span>
    <div class="tsp"></div>
    <div class="timer">Time Left: <span id="timer">--:--</span></div>
  </div>

  <div id="exam" class="main">
    <!-- Center paper -->
    <section class="card">
      <div class="qhdr">
        <div class="pill green">+4</div>
        <div class="pill red">-1</div>
        <div style="flex:1"></div>
        <button class="btn ghost" onclick="toggleReview()">★ Mark for review</button>
      </div>

      <div class="qwrap">
        <div class="qid" id="qid">Question-1</div>
        <div class="qtext" id="qtext"></div>
        <div id="opts"></div>
      </div>

      <div class="bottom">
        <button class="btn ghost" onclick="prevQ()">‹ Previous</button>
        <div style="display:flex;gap:8px">
          <button class="btn ghost" onclick="clearResp()">Clear Response</button>
          <button class="btn primary" onclick="saveNext()">Save & Next ›</button>
        </div>
      </div>
    </section>

    <!-- Right sidebar -->
    <aside class="card sidebar">
      <div class="user">
        <div class="uav">H</div>
        <div>
          <div class="uname">Harsh</div>
          <div style="color:#6b7280;font-size:12px">Section</div>
        </div>
      </div>

      <div class="stat">
        <div class="statrow"><span class="sdot sgreen"></span> <b id="sAns">0</b> Answered</div>
        <div class="statrow"><span class="sdot sred"></span> <b id="sNot">0</b> Not Answered</div>
        <div class="statrow"><span class="sdot spurple"></span> <b id="sRev">0</b> Marked for Review</div>
        <div class="statrow"><span class="sdot sgrey"></span> <b id="sNov">0</b> Not Visited</div>
      </div>

      <div class="palet">
        <div style="font-weight:700;margin-bottom:8px">Community Pharmacy &amp; Management (1)</div>
        <div id="pal" class="palgrid"></div>
      </div>

      <div class="subwrap">
        <button class="submit" onclick="finish()">Submit Test</button>
      </div>
    </aside>
  </div>

  <!-- Result -->
  <div id="result" class="result">
    <div class="rbox">
      <div class="score" id="score">0</div>
      <div class="subtle" id="outof">OUT OF 0</div>
      <div style="height:1px;background:#e5e7eb;margin:14px 0"></div>
      <div id="summary" style="text-align:center"></div>
    </div>
    <div id="solutions" class="rbox" style="margin-top:16px"></div>
  </div>

<script>
const QUESTIONS = [{"id": "67128cd35d628568f1a2c3ff", "text": "Which\none of these is not a symptom of poisoning", "options": ["Stomach\npain", "Respiratory\ndistress", "Dehydration", "All\nof the above"], "correct_index": 3, "solution": "All\nof the above"}, {"id": "67128cd35d6285856ca2c3e1", "text": "The\nterm ‘antihypertensive’ refers to a medication that", "options": ["Treats\ninfections", "Manages\npain", "Lowers\nblood pressure", "Treats\ndiabetes"], "correct_index": 2, "solution": "Lowers\nblood pressure"}, {"id": "67128cd35d62851e8ea2c45e", "text": "The\nprimary use of Diazepam is", "options": ["Diabetes\ncontrol", "Anxiety\nreduction", "Pain\nmanagement", "Antibiotic\ntherapy"], "correct_index": 1, "solution": "Anxiety\nreduction"}, {"id": "67128cd35d62851eeca2c445", "text": "The\nprimary use of Gabapentin is", "options": ["Allergy\nrelief", "Blood\npressure control", "Antibiotic\ntherapy", "Neuropathic\npain management"], "correct_index": 3, "solution": "Neuropathic\npain management"}, {"id": "67128cd35d628540c3a2c41d", "text": "A\nprescription should not contain", "options": ["Any\ndrug interaction", "Any\nContraindication", "Double\nmedication", "All\nof the above"], "correct_index": 3, "solution": "All\nof the above"}, {"id": "67128cd35d62855266a2c3d7", "text": "The\nLatin term 'Mane' which means", "options": ["Early\nin the morning", "Every\nmorning", "In\nthe morning", "Every\nnight"], "correct_index": 0, "solution": "Early\nin the morning"}, {"id": "67128cd35d628506caa2c468", "text": "In\nan emergency, in the case of a patient that has swallowed a\npoison, you should first", "options": ["Induce\nvomiting", "Administer\nactivated charcoal", "Call\na poison control center", "Call\nan ambulance"], "correct_index": 3, "solution": "Call\nan ambulance"}, {"id": "67128cd35d628526eea2c3f5", "text": "The\nprimary use of Prednisone is", "options": ["Pain\nrelief", "Allergy\nmanagement", "Blood\nsugar control", "Anti-inflammatory\ntreatment"], "correct_index": 3, "solution": "Anti-inflammatory\ntreatment"}, {"id": "67128cd35d628576bca2c409", "text": "Who\nregulates what information is placed on a prescription medication\nlabel", "options": ["Environmental\nProtection Agency", "Federal\nFood and Drug Administration", "National\nPharmaceutical Association", "Centers\nfor Medicare and Medicaid Services"], "correct_index": 1, "solution": "Federal\nFood and Drug Administration"}, {"id": "67128cd35d628582d6a2c46d", "text": "How\nare prescription medicines different from OTC ones", "options": ["They\ncan be toxic", "They're\nunsafe for use without medical supervision", "They\ndon't contain dyes or preservatives", "They\ncontain much smaller amounts of active ingredients"], "correct_index": 1, "solution": "They're\nunsafe for use without medical supervision"}, {"id": "67128cd35d62850d91a2c463", "text": "The\nmain purpose of the Drug Enforcement Administration (DEA) is", "options": ["Approve\nnew drug applications", "Regulate\ninsurance policies", "Oversee\ndrug pricing", "Monitor\nprescription drug abuse"], "correct_index": 0, "solution": "Approve\nnew drug applications"}, {"id": "67128cd35d6285a840a2c3dc", "text": "The\nterm ‘antispasmodic’ refers to a medication that", "options": ["Relieves\npain", "Manages\nblood pressure", "Relieves\nmuscle spasms", "Treats\ninfections"], "correct_index": 2, "solution": "Relieves\nmuscle spasms"}, {"id": "67128cd35d6285687ba2c43b", "text": "It\nis always written before prescribing medication", "options": ["Superscription", "Inscription", "Subscription", "None\nof these"], "correct_index": 0, "solution": "Superscription"}, {"id": "67128cd35d62855b66a2c418", "text": "Which\none of the following should be there on a prescription to make it\na legal one?", "options": ["How\nto take the medicine", "Name\nof medicine", "Signature\nof the doctor", "Signature\nof the Pharmacist"], "correct_index": 2, "solution": "Signature\nof the doctor"}, {"id": "67128cd35d6285e8afa2c481", "text": "After\nreceiving the Prescription, the pharmacist should check the", "options": ["Therapeutic\naspects", "Legality\n& completeness of prescription", "Appropriate\nfor an individual", "All\nof the above"], "correct_index": 1, "solution": "Legality\n& completeness of prescription"}, {"id": "67128cd35d628511b1a2c440", "text": "This\npart of Prescription is important for the Patient's point of view", "options": ["Signature", "Subscription", "Signature,\naddress and registration of the Prescriber", "Inscription"], "correct_index": 0, "solution": "Signature"}, {"id": "67128cd35d6285fb0ea2c44a", "text": "Which\nmedication is used for managing high blood pressure", "options": ["Ibuprofen", "Amlodipine", "Metformin", "Furosemide"], "correct_index": 1, "solution": "Amlodipine"}, {"id": "67128cd35d62854007a2c427", "text": "Round\nvials can be used for compounding the", "options": ["For\ndusting powders", "For\nexternal preparations", "For\ntablets and capsules", "For\nointments, creams or any other semisolid dosage forms"], "correct_index": 3, "solution": "For\nointments, creams or any other semisolid dosage forms"}, {"id": "67128cd35d628592f6a2c44f", "text": "The\nprimary use of Sildenafil is", "options": ["Treat\nerectile dysfunction", "Diabetes\nmanagement", "Blood\npressure control", "Pain\nrelief"], "correct_index": 0, "solution": "Treat\nerectile dysfunction"}, {"id": "67128cd35d628526a2a2c413", "text": "What\ndoes the abbreviation O.D means on a prescription?", "options": ["Once\ndaily", "Name\nof medicine", "Quantity\nto be dispensed", "How\nto take the medicine"], "correct_index": 0, "solution": "Once\ndaily"}, {"id": "67128cd35d62859b15a2c472", "text": "Who\nregulates what information is placed on a prescription medication\nlabel", "options": ["Environmental\nProtection Agency", "Federal\nFood and Drug Administration", "National\nPharmaceutical Association", "Centers\nfor Medicare and Medicaid Services"], "correct_index": 1, "solution": "Federal\nFood and Drug Administration"}, {"id": "67128cd35d62855e01a2c40e", "text": "In\nwhich cases, the order should be repeated back to the prescriber\nto ensure accuracy", "options": ["Written\norder", "Verbal\norder", "Order\ngiven at the time of the surgery", "Both\n(a) and (b)"], "correct_index": 3, "solution": "Both\n(a) and (b)"}, {"id": "67128cd35d62852d68a2c454", "text": "The\nterm ‘topical’ refers to medication", "options": ["To\nbe applied directly to the skin", "To\nbe taken orally", "To\nbe injected", "To\nbe inhaled"], "correct_index": 3, "solution": "To\nbe inhaled"}, {"id": "67128cd35d62859177a2c3f0", "text": "Which\nmedication is commonly used to manage depression", "options": ["Metformin", "Furosemide", "Lisinopril", "Sertraline"], "correct_index": 3, "solution": "Sertraline"}, {"id": "67128cd35d628508aea2c3fa", "text": "Which\ndrug is used as an anticoagulant", "options": ["Ciprofloxacin", "Warfarin", "Metoprolol", "Ibuprofen"], "correct_index": 1, "solution": "Warfarin"}, {"id": "67128cd35d628528f0a2c3eb", "text": "The\nterm ‘analgesic’ refers to a medication that", "options": ["Relieves\npain", "Manages\nblood pressure", "Treats\ninfections", "Reduces\nfever"], "correct_index": 0, "solution": "Relieves\npain"}, {"id": "67128cd35d628543f6a2c431", "text": "Special\ncare should be taken while handling the Prescription which\ncontains", "options": ["Pain\nkillers", "Antibiotics", "Narrow\ntherapeutic drugs", "High\nalert Medications/ Look alike and Sound alike drugs"], "correct_index": 3, "solution": "High\nalert Medications/ Look alike and Sound alike drugs"}, {"id": "67128cd35d6285398ea2c436", "text": "Any\nerrors in Prescription must be immediately informed to", "options": ["Physician", "Nursing\nStaff", "Senior\nPharmacists", "Both\n(a) and (b)"], "correct_index": 3, "solution": "Both\n(a) and (b)"}, {"id": "67128cd35d6285a1d7a2c477", "text": "Full\nform of SOP is", "options": ["System\noperating Process", "Standard\noperating process", "Standard\noperating procedures", "Sequence\noperating Procedures"], "correct_index": 2, "solution": "Standard\noperating procedures"}, {"id": "67128cd35d62852d2da2c459", "text": "The\ncorrect method for taking oral medication is", "options": ["With\nfood only", "With\na small amount of water", "With\na full glass of water", "On\nan empty stomach"], "correct_index": 2, "solution": "With\na full glass of water"}, {"id": "67128cd35d628581e8a2c422", "text": "Insulin\ninjections should be kept with the label that indicates", "options": ["Keep\nin refrigerator", "Keep\nin a cool place", "Keep\nin cool and dry place", "Keep\nin dry place"], "correct_index": 0, "solution": "Keep\nin refrigerator"}, {"id": "67128cd35d62859185a2c42c", "text": "The\nLatin term 'Dolore Urgente' means", "options": ["When\nthe pain is severe", "When\nthe fever is severe", "Urgent\nrequired", "When\nthe cough is severe"], "correct_index": 0, "solution": "When\nthe pain is severe"}, {"id": "67128cd35d6285ca17a2c404", "text": "The\npharmacological action of Vitamin D is", "options": ["Helps\nin bone growth and repair", "Regulates\ncalcium and phosphorus metabolism", "Treats\nosteoporosis", "All\nof the above"], "correct_index": 0, "solution": "Helps\nin bone growth and repair"}, {"id": "67128cd35d6285620fa2c3e6", "text": "The\nterm ‘antifungal’ refers to a medication that", "options": ["Treats\nbacterial infections", "Treats\nfungal infections", "Controls\nblood pressure", "Manages\npain"], "correct_index": 1, "solution": "Treats\nfungal infections"}, {"id": "67128cd35d62855882a2c47c", "text": "Prescription\ncame from the Latin word ______ meaning \"To write before”", "options": ["Praescriptus", "Parescriptus", "Prescription", "None\nof the above"], "correct_index": 2, "solution": "Praescription"}];
const POS = 4; const NEG = -1;
let TOTAL_SECONDS = 3600;

let current=0;
let answers = new Array(QUESTIONS.length).fill(null);
let visited = new Array(QUESTIONS.length).fill(false);
let review  = new Array(QUESTIONS.length).fill(false);
let timerInterval;

function renderQ(i){
  current=i; visited[i]=true;
  const q = QUESTIONS[i] || {};
  document.getElementById('qid').textContent = 'Question-'+(i+1);
  document.getElementById('qtext').textContent = q.text || '';
  const box = document.getElementById('opts'); box.innerHTML='';
  (q.options||[]).forEach((op,j)=>{
    const row = document.createElement('label'); row.className='opt'+(answers[i]===j?' selected':'');
    const dot = document.createElement('span'); dot.className='rdot';
    const input = document.createElement('input'); input.type='radio'; input.name='q'+i; input.value=String(j); input.style.display='none';
    input.checked = (answers[i]===j);
    input.onchange = ()=>{ answers[i]=j; renderQ(i); refreshStats(); };
    row.appendChild(dot); row.appendChild(input); row.append(' '+op);
    row.onclick = (ev)=>{ if(ev.target.tagName!=='INPUT'){ input.checked=true; input.dispatchEvent(new Event('change')); } };
    box.appendChild(row);
  });
  highlightPalette();
}

function buildPalette(){
  const pal = document.getElementById('pal'); pal.innerHTML='';
  for(let i=0;i<QUESTIONS.length;i++){
    const d = document.createElement('div'); d.className='p'; d.textContent = i+1;
    d.onclick=()=>renderQ(i); pal.appendChild(d);
  }
  highlightPalette(); refreshStats();
}
function highlightPalette(){
  const pal = document.getElementById('pal').children;
  for(let i=0;i<pal.length;i++){
    let cls='p';
    if(!visited[i]){}
    else if(answers[i]===null && !review[i]) cls+=' not-answered';
    else if(answers[i]!==null && review[i]) cls+=' answered'; // treat as answered for color; review tracked separately
    else if(answers[i]!==null) cls+=' answered';
    else if(review[i]) cls+=' not-answered';
    if(i===current) cls+=' active';
    pal[i].className = cls;
  }
}
function refreshStats(){
  const pal = document.getElementById('pal').children;
  let ans=0, na=0, rev=0, nv=0;
  for(let i=0;i<pal.length;i++){
    if(!visited[i]) nv++;
    if(review[i]) rev++;
    if(visited[i] && answers[i]===null) na++;
    if(answers[i]!==null) ans++;
  }
  document.getElementById('sAns').textContent=ans;
  document.getElementById('sNot').textContent=na;
  document.getElementById('sRev').textContent=rev;
  document.getElementById('sNov').textContent=nv;
}
function prevQ(){ if(current>0) renderQ(current-1); }
function saveNext(){ if(current<QUESTIONS.length-1) renderQ(current+1); }
function clearResp(){ answers[current]=null; renderQ(current); refreshStats(); }
function toggleReview(){ review[current]=!review[current]; highlightPalette(); refreshStats(); }

function finish(){
  // stop timer
  if (typeof timerInterval!=='undefined') try{ clearInterval(timerInterval); }catch(e){}

  let score=0,correct=0,wrong=0,attempted=0;
  for(let i=0;i<QUESTIONS.length;i++){
    const c=(QUESTIONS[i]||{}).correct_index;
    const a=answers[i];
    if(a!==null) attempted++;
    if(c==null || a==null) continue;
    if(Number(a)===Number(c)) {score+=POS;correct++;} else {score+=NEG;wrong++;}
  }
  const unattempted = QUESTIONS.length - attempted;

  // hide exam, show results
  document.getElementById('exam').style.display='none';
  document.getElementById('result').style.display='block';

  document.getElementById('score').textContent = String(score);
  document.getElementById('outof').textContent = 'OUT OF '+(POS*QUESTIONS.length);
  document.getElementById('summary').innerHTML =
    'Correct: <b>'+correct+'</b> &nbsp; | &nbsp; Wrong: <b>'+wrong+
    '</b> &nbsp; | &nbsp; Unattempted: <b>'+unattempted+'</b>';

  // solutions
  const sol = document.getElementById('solutions');
  let h='';
  for(let i=0;i<QUESTIONS.length;i++){
    const q=QUESTIONS[i]||{}; const c=q.correct_index; const a=answers[i];
    h += '<div class="sol"><div style="font-weight:700;margin-bottom:6px">Q.'+(i+1)+'</div>';
    (q.options||[]).forEach((op,j)=>{
      let cls='';
      if(c!=null && j===c) cls=' ok';
      else if(a!=null && j===a && c!=null && a!==c) cls=' bad';
      h += '<div class="'+cls+'" >'+op+'</div>';
    });
    if(q.solution) h += '<div style="margin-top:6px;color:#334155"><small><b>Solution:</b> '+q.solution+'</small></div>';
    h += '</div>';
  }
  sol.innerHTML = h;
  window.scrollTo(0,0);
}

/* Timer */
function startTimer(){
  if (!TOTAL_SECONDS) return;
  const t = document.getElementById('timer');
  function tick(){
    let m = Math.floor(TOTAL_SECONDS/60);
    let s = TOTAL_SECONDS%60;
    t.textContent = String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
    if (TOTAL_SECONDS<=0) { clearInterval(timerInterval); return; }
    TOTAL_SECONDS -= 1;
  }
  tick(); timerInterval = setInterval(tick, 1000);
}

document.addEventListener('DOMContentLoaded', ()=>{
  document.title = 'Community Pharmacy &amp; Management';
  buildPalette();
  if(QUESTIONS.length) renderQ(0);
  startTimer();
});
</script>
</body></html>
