<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>HECP (Health Education and Community Pharmacy) Mock Test</title>
<style>
:root{--bg:#f6f7fb;--card:#fff;--border:#e6eaf3;--text:#0b192d;--muted:#6b7280;--blue:#2b8ef6;--blue2:#0ea5e9;--green:#22c55e;--red:#ef4444;--purple:#7c3aed;--shadow:0 2px 12px rgba(2,6,23,.06)}
*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text)}
/* Top bar */
.top{background:#fff;border-bottom:1px solid var(--border);padding:12px 18px;display:flex;align-items:center;gap:12px}
.bcrumb{font-weight:700} .bchip{margin-left:10px;background:#eef2ff;border:1px solid #c7d2fe;color:#374151;border-radius:8px;padding:3px 8px;font-weight:700}
.tsp{flex:1} .timer{background:#eef2ff;border:1px solid #c7d2fe;padding:4px 10px;border-radius:8px;font-weight:700}
/* Main layout */
.main{display:grid;grid-template-columns:1fr 340px;gap:16px;max-width:1200px;margin:0 auto;padding:16px}
.card{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);overflow:hidden}
/* Question header row (marking + timer + review) */
.qhdr{display:flex;align-items:center;gap:10px;padding:12px 16px;border-bottom:1px solid var(--border)}
.pill{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:6px;padding:4px 8px;font-weight:700}
.pill.green{background:#ecfdf5;border-color:#bbf7d0;color:#166534} .pill.red{background:#fee2e2;border-color:#fecaca;color:#991b1b}
.qwrap{padding:16px}
.qid{color:#6b7280;font-size:13px;margin-bottom:6px}
.qtext{font-weight:700;line-height:1.6;margin:6px 0 14px 0}
.opt{display:flex;align-items:center;gap:10px;border:1px solid var(--border);border-radius:10px;padding:12px;margin:10px 0;background:#fff;cursor:pointer;transition:box-shadow .15s,border-color .15s}
.rdot{width:16px;height:16px;border-radius:50%;border:2px solid #cbd5e1;background:#fff}
.opt.selected{border-color:var(--blue);box-shadow:0 0 0 3px rgba(43,142,246,.15)}
/* bottom actions */
.bottom{display:flex;justify-content:space-between;gap:10px;padding:12px 16px;border-top:1px solid var(--border);background:#fff}
.btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 14px;cursor:pointer;font-weight:600}
.btn.ghost{background:#f8fafc}
.btn.primary{background:var(--blue);color:#fff;border-color:var(--blue)}
/* Sidebar */
.sidebar{padding:12px}
.user{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.uav{width:44px;height:44px;border-radius:50%;background:#fee2e2;color:#7f1d1d;font-weight:800;display:flex;align-items:center;justify-content:center}
.uname{font-weight:700}
.stat{border-top:1px solid var(--border);padding-top:10px;margin-top:6px}
.statrow{display:flex;align-items:center;gap:8px;margin:8px 0;color:#111827}
.sdot{width:10px;height:10px;border-radius:50%}
.sgreen{background:#22c55e}.sred{background:#ef4444}.sgrey{background:#94a3b8}.spurple{background:#7c3aed}
.palet{margin-top:10px;border-top:1px solid var(--border);padding-top:12px}
.palgrid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.p{height:40px;border:1px solid var(--border);border-radius:10px;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700}
.p.active{outline:2px solid var(--purple)} .p.answered{background:#ecfdf5;border-color:#bbf7d0} .p.not-answered{background:#fee2e2;border-color:#fecaca}
.subwrap{position:sticky;bottom:0;background:#fff;padding-top:12px}
.submit{width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--blue);background:var(--blue);color:#fff;font-weight:800;cursor:pointer}
/* Result screen */
.result{display:none;max-width:760px;margin:16px auto}
.rbox{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:18px}
.score{font-weight:900;font-size:36px;color:var(--blue);text-align:center}
.subtle{text-align:center;color:#6b7280}
.sol{border:1px solid var(--border);border-radius:10px;padding:12px;margin:12px 0}
.sol .ok{background:#ecfdf5;border:1px solid #bbf7d0;border-radius:8px;padding:8px;margin:6px 0}
.sol .bad{background:#fee2e2;border:1px solid #fecaca;border-radius:8px;padding:8px;margin:6px 0}
@media(max-width:1000px){.main{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="top">
    <div class="bcrumb">HECP (Health Education and Community Pharmacy) Mock Test</div>
    <span class="bchip">HECP</span>
    <div class="tsp"></div>
    <div class="timer">Time Left: <span id="timer">--:--</span></div>
  </div>

  <div id="exam" class="main">
    <!-- Center paper -->
    <section class="card">
      <div class="qhdr">
        <div class="pill green">+4</div>
        <div class="pill red">-1</div>
        <div style="flex:1"></div>
        <button class="btn ghost" onclick="toggleReview()">★ Mark for review</button>
      </div>

      <div class="qwrap">
        <div class="qid" id="qid">Question-1</div>
        <div class="qtext" id="qtext"></div>
        <div id="opts"></div>
      </div>

      <div class="bottom">
        <button class="btn ghost" onclick="prevQ()">‹ Previous</button>
        <div style="display:flex;gap:8px">
          <button class="btn ghost" onclick="clearResp()">Clear Response</button>
          <button class="btn primary" onclick="saveNext()">Save & Next ›</button>
        </div>
      </div>
    </section>

    <!-- Right sidebar -->
    <aside class="card sidebar">
      <div class="user">
        <div class="uav">H</div>
        <div>
          <div class="uname">Harsh</div>
          <div style="color:#6b7280;font-size:12px">Section</div>
        </div>
      </div>

      <div class="stat">
        <div class="statrow"><span class="sdot sgreen"></span> <b id="sAns">0</b> Answered</div>
        <div class="statrow"><span class="sdot sred"></span> <b id="sNot">0</b> Not Answered</div>
        <div class="statrow"><span class="sdot spurple"></span> <b id="sRev">0</b> Marked for Review</div>
        <div class="statrow"><span class="sdot sgrey"></span> <b id="sNov">0</b> Not Visited</div>
      </div>

      <div class="palet">
        <div style="font-weight:700;margin-bottom:8px">HECP</div>
        <div id="pal" class="palgrid"></div>
      </div>

      <div class="subwrap">
        <button class="submit" onclick="finish()">Submit Test</button>
      </div>
    </aside>
  </div>

  <!-- Result -->
  <div id="result" class="result">
    <div class="rbox">
      <div class="score" id="score">0</div>
      <div class="subtle" id="outof">OUT OF 0</div>
      <div style="height:1px;background:#e5e7eb;margin:14px 0"></div>
      <div id="summary" style="text-align:center"></div>
    </div>
    <div id="solutions" class="rbox" style="margin-top:16px"></div>
  </div>

<script>
const QUESTIONS = [{"id": "6549e0f477f0eb29f33349a4", "text": "Combined oral\ncontraceptive pill contains", "options": ["Oestrogen", "Centochroman", "Progesterone", "Oestrogen +\nProgesterone"], "correct_index": 3, "solution": "Oestrogen +\nProgesterone"}, {"id": "6549e0f477f0eb94aa3349b3", "text": "Patient\nsuffering from ----------- are recommended oral rehydration\ntherapy", "options": ["Cholera", "Typhoid", "Tuberculosis", "Plague"], "correct_index": 0, "solution": "Cholera"}, {"id": "6549e0f477f0eb564f3349c2", "text": "Demography is\nthe study of", "options": ["Fungi", "Drugs", "Population", "Disease"], "correct_index": 2, "solution": "Population"}, {"id": "654d3aacdd0180229e17373b", "text": "Combined oral\npills give contraceptive action by", "options": ["Preventing\novulation", "Destroying\nzygote cell", "Killing ova", "Killing sperms"], "correct_index": 0, "solution": "Preventing\novulation"}, {"id": "6549e0f477f0eb8d2d3349ae", "text": "Confirmatory\ntest for HIV is", "options": ["Western blot", "PCR", "IFA test", "All of these"], "correct_index": 3, "solution": "All of these"}, {"id": "6549e0f477f0eb2c6b334a17", "text": "Iodine deficiency disease is", "options": ["Cancer", "Asthma", "Jaundice", "Goiter"], "correct_index": 3, "solution": "Goiter"}, {"id": "654d3aacdd0180ece7173704", "text": "The most common\nrote of transmission of HIV in INDIA is", "options": ["Syringe sharing", "Transfusion of\nblood and blood products", "Sexual contact", "All of the above"], "correct_index": 3, "solution": "All of the above"}, {"id": "6549e0f477f0eb44783349e0", "text": "Yeast is a type\nof", "options": ["Bacteria", "Fungi", "Virus", "Protozoa"], "correct_index": 1, "solution": "Fungi"}, {"id": "654d3aacdd01801c0a173713", "text": "One of the\ndiseases below has been eradicated globally as declared by WHO", "options": ["Poliomyelitis", "Small pox", "Chicken pox", "Measles"], "correct_index": 1, "solution": "Small pox"}, {"id": "654d3aacdd0180196b1736e6", "text": "General cause of\nparotitis in children is", "options": ["Chicken pox", "Small pox", "Measles", "Mumps"], "correct_index": 3, "solution": "Mumps"}, {"id": "6549e0f477f0eb682b334a03", "text": "First generation\nIUDs are usually made of", "options": ["Polyethylene", "Steel", "Aluminium", "Copper"], "correct_index": 0, "solution": "Polyethylene"}, {"id": "6549e0f477f0eb6b0233499a", "text": "Confirmatory\ntest for the diagnosis of AIDS is", "options": ["Western blot", "ELISA", "Widal test", "Lepronin test"], "correct_index": 0, "solution": "Western blot"}, {"id": "654d3aacdd018058721736dc", "text": "DOTS stands for", "options": ["Directly\nobserved treatment services", "Directly\nobserved therapeutic services", "Directly\nobserved tuberculosis services", "Directly\nobserved treatment short course"], "correct_index": 3, "solution": "Directly\nobserved treatment short course"}, {"id": "6549e0f477f0eb19233349bd", "text": "Polio vaccine is\nusually stored at", "options": ["room temperature", "Between 8 to\n25°C", "-10 to -20 °C", "Between 2 to 10\n° C"], "correct_index": 2, "solution": "-10\nto -20 °C"}, {"id": "654d3aacdd018012e01736e1", "text": "Which of the\ndisease is not transmitted by airborne droplets?", "options": ["Plague", "Tuberculosis", "Influenza", "Diphtheria"], "correct_index": 0, "solution": "Plague"}, {"id": "6549e0f477f0eb11a2334a08", "text": "Mala-D is\navailable in the package of", "options": ["28 Pills", "25 Pills", "15 Pills", "20 Pills"], "correct_index": 0, "solution": "28 Pills"}, {"id": "6549e0f477f0ebc962334a0d", "text": "Damage or death\nof myocardial cell is takes place in", "options": ["Angina", "Diabetes", "Hypertension", "Myocardial\ninfraction"], "correct_index": 3, "solution": "Myocardial\ninfraction"}, {"id": "6549e0f477f0eb365f334a1c", "text": "HIV attack on\nthe human", "options": ["CNS", "Cardiovascular\nsystem", "Reproductive\nsystem", "Immune system"], "correct_index": 3, "solution": "Immune system"}, {"id": "6549e0f477f0ebe98733499f", "text": "Low vision in\nthe night results from the deficiency of", "options": ["Vitamin A", "Vitamin B", "Vitamin C", "Vitamin D"], "correct_index": 0, "solution": "Vitamin A"}, {"id": "6549e0f477f0eb65913349f9", "text": "Depot\nformulation are developed to -------- of drug", "options": ["Fast release", "Fast action", "Fast onset", "Slow release"], "correct_index": 3, "solution": "Slow release"}, {"id": "6549e0f477f0eb49463349cc", "text": "Vaccines NOT\navailable to immunize against", "options": ["Rabies", "Hepatitis", "Malaria", "Tuberculosis"], "correct_index": 2, "solution": "Malaria"}, {"id": "6549e0f477f0eb20933349db", "text": "Passive immunity\nis produced by", "options": ["All of these", "Sera", "Toxoid", "Vaccine"], "correct_index": 1, "solution": "Sera"}, {"id": "6549e0f477f0ebe1d23349b8", "text": "Jaundice is a\nsymptom of disease of", "options": ["Liver", "Heart", "Brain", "Kidney"], "correct_index": 0, "solution": "Liver"}, {"id": "654d3aacdd018018d71736fa", "text": "The\nepidemiological triad means interaction of", "options": ["Agent, host and\nenvironment", "Agent, host and\nsociety", "Agent, host and\nfood", "Agent, host and\nmicroorganism"], "correct_index": 0, "solution": "Agent, host and\nenvironment"}, {"id": "654d3aacdd0180720c173722", "text": "Which vaccine is\ngiven to pregnant lady?", "options": ["BCG", "Measles", "Tetanus", "Polio vaccine"], "correct_index": 2, "solution": "Tetanus"}, {"id": "654d3aacdd018082521736eb", "text": "Transmission of\nmalaria is caused by", "options": ["Air borne", "Fomite\n(inanimate object)", "Vector", "Food and water"], "correct_index": 2, "solution": "Vector"}, {"id": "6549e0f477f0eb21ac334990", "text": "Disinfection\nmeans", "options": ["Killing all the\nmicroorganisms of non-living surface", "Killing\nbacterial spores of non-living surface", "Reduce microbial\ncount to a non-dangerous level of non-surface", "Killing all the\nmicroorganisms and their spores of non-living surface"], "correct_index": 2, "solution": "Reduce microbial\ncount to a non-dangerous level of non-surface"}, {"id": "6549e0f477f0eb35c73349ef", "text": "Richest source\nof iodine is", "options": ["Milk", "Shark liver oil", "Cod liver oil", "Sea foods"], "correct_index": 3, "solution": "Sea foods"}, {"id": "6549e0f477f0eb47cb3349f4", "text": "Aim of family\nwelfare programme is to", "options": ["Care of neonates", "Increase\npopulation", "Vaccination of\nchildren", "Improve quality\nof life"], "correct_index": 3, "solution": "Improve quality\nof life"}, {"id": "654d3aacdd01808b6a17372c", "text": "All of the given\nvaccine are given at birth EXCEPT", "options": ["BCG", "Polio", "Hepatitis B", "Hepatitis A"], "correct_index": 3, "solution": "Hepatitis A"}, {"id": "6549e0f477f0ebc130334995", "text": "Frei test is\nused for the diagnosis of", "options": ["Syphilis", "Lyphogranuloma\nvenerae", "Gonorrhoea", "Tuberculosis"], "correct_index": 1, "solution": "Lyphogranuloma\nvenerae"}, {"id": "654d3aacdd01805083173736", "text": "Which\ncontraceptive method can prevent sexually transmitted disease?", "options": ["Oral pills", "Copper T", "Nirodh", "Cervical"], "correct_index": 2, "solution": "Nirodh"}, {"id": "6549e0f477f0eb46ff3349c7", "text": "The deficiency\nof which of the following vitamin leads to bent limb in children?", "options": ["Vitamin K", "Vitamin A", "Vitamin B", "Vitamin D"], "correct_index": 3, "solution": "Vitamin D"}, {"id": "6549e0f477f0eb9c89334a12", "text": "Which of the\nfollowing disease are covered under national vector borne disease\nprogramming of india?", "options": ["Lymphatic\nfilariasis", "Kala azar", "Dengue", "All of these"], "correct_index": 3, "solution": "All of these"}, {"id": "6549e0f477f0eb61673349d6", "text": "Th antibodies\nwhich are capable of neutralize toxin are known as?", "options": ["Antitoxin", "Sera", "Toxoid", "Vaccine"], "correct_index": 0, "solution": "Antitoxin"}, {"id": "654d3aacdd01806e8d173709", "text": "Kaposi’s\nsarcoma is associated with", "options": ["Tuberculosis", "Hepatitis B", "Epstein Barr\nvirus", "Human immune\nvirus"], "correct_index": 3, "solution": "Human immune\nvirus"}, {"id": "654d3aacdd01808abb173731", "text": "The system of\nstoring and transporting vaccines is termed as", "options": ["Freezer chain", "Cold chain", "Cool chain", "Vaccination"], "correct_index": 1, "solution": "Cold chain"}, {"id": "654d3aacdd01800eac1736f0", "text": "New cases of a\ndisease occurring in a population during a given period is\ndetermined by", "options": ["Incidence rate", "Prevalence rate", "Mortality rate", "Morbidity rate"], "correct_index": 0, "solution": "Incidence rate"}, {"id": "654d3aacdd018092df1736f5", "text": "Time interval\nbetween entry of agent and manifests sign and symptoms is", "options": ["Pre-\npathogenesis", "Pathogenesis", "Incubation\nperiod", "Convalescence"], "correct_index": 2, "solution": "Incubation\nperiod"}, {"id": "654d3aacdd0180133417371d", "text": "Among the\nvaccine, Polio is the most heat sensitive requiring storage at", "options": ["273 K", "-293 K", "-283 K", "-103 K"], "correct_index": 1, "solution": "-293 K"}, {"id": "654d3aacdd01808fff1736ff", "text": "An individual\ncapable of infecting others without presenting any sign and\nsymptoms is", "options": ["Agent", "Host", "Carrier", "Susceptible"], "correct_index": 2, "solution": "Carrier"}, {"id": "654d3aacdd0180728a17370e", "text": "Confirmatory\ntest for AIDS is", "options": ["ELISA", "Tuberculin test", "Dick test", "Western blot"], "correct_index": 3, "solution": "Western blot"}, {"id": "6549e0f477f0eb32693349a9", "text": "Rheumatic fever\nadversely affects", "options": ["Heart valve", "Kidney", "Memory", "Liver"], "correct_index": 0, "solution": "Heart valve"}, {"id": "6549e0f477f0eb3a103349e5", "text": "EEG is used for", "options": ["Kidney", "Stomach", "Brain", "Heart"], "correct_index": 2, "solution": "Brain"}, {"id": "6549e0f477f0ebefdd3349fe", "text": "Lippes loop is a\n---------- Ist\ngeneration IUDs", "options": ["Double S shaped", "O shaped", "C shaped", "Oval shaped"], "correct_index": 0, "solution": "Double S shaped"}, {"id": "6549e0f477f0eb28713349d1", "text": "The power of\nbody to resist the effect of invasion microorganism is called", "options": ["Immunity", "Infection", "Epidemiology", "Microbiology"], "correct_index": 0, "solution": "Immunity"}, {"id": "6549e0f477f0eb448e33498b", "text": "Small pox is\ncaused by", "options": ["variola virus", "Influenza virus", "Herpes virus", "Polio virus"], "correct_index": 0, "solution": "variola virus"}, {"id": "6549e0f477f0eb2c583349ea", "text": "In blood sample\nsodium fluoride is added along with sodium oxalate to prevent", "options": ["Clotting of\nblood", "Glucose\ndegradation", "Sedimentation", "RBC breakdown"], "correct_index": 1, "solution": "Glucose\ndegradation"}, {"id": "654d3aacdd01808568173718", "text": "BCG vaccine is a", "options": ["Killed vaccine", "Triple vaccine", "Live attenuated", "Combined vaccine"], "correct_index": 2, "solution": "Live attenuated"}, {"id": "654d3aacdd01800775173727", "text": "MMR vaccine\nprovide protection all of the following EXCEPT", "options": ["Rubeola", "Mumps", "Meningococcal\nmeningitis", "Rubella"], "correct_index": 2, "solution": "Meningococcal\nmeningitis"}];
const POS = 4; const NEG = -1;
let TOTAL_SECONDS = 2700;

let current=0;
let answers = new Array(QUESTIONS.length).fill(null);
let visited = new Array(QUESTIONS.length).fill(false);
let review  = new Array(QUESTIONS.length).fill(false);
let timerInterval;

function renderQ(i){
  current=i; visited[i]=true;
  const q = QUESTIONS[i] || {};
  document.getElementById('qid').textContent = 'Question-'+(i+1);
  document.getElementById('qtext').textContent = q.text || '';
  const box = document.getElementById('opts'); box.innerHTML='';
  (q.options||[]).forEach((op,j)=>{
    const row = document.createElement('label'); row.className='opt'+(answers[i]===j?' selected':'');
    const dot = document.createElement('span'); dot.className='rdot';
    const input = document.createElement('input'); input.type='radio'; input.name='q'+i; input.value=String(j); input.style.display='none';
    input.checked = (answers[i]===j);
    input.onchange = ()=>{ answers[i]=j; renderQ(i); refreshStats(); };
    row.appendChild(dot); row.appendChild(input); row.append(' '+op);
    row.onclick = (ev)=>{ if(ev.target.tagName!=='INPUT'){ input.checked=true; input.dispatchEvent(new Event('change')); } };
    box.appendChild(row);
  });
  highlightPalette();
}

function buildPalette(){
  const pal = document.getElementById('pal'); pal.innerHTML='';
  for(let i=0;i<QUESTIONS.length;i++){
    const d = document.createElement('div'); d.className='p'; d.textContent = i+1;
    d.onclick=()=>renderQ(i); pal.appendChild(d);
  }
  highlightPalette(); refreshStats();
}
function highlightPalette(){
  const pal = document.getElementById('pal').children;
  for(let i=0;i<pal.length;i++){
    let cls='p';
    if(!visited[i]){}
    else if(answers[i]===null && !review[i]) cls+=' not-answered';
    else if(answers[i]!==null && review[i]) cls+=' answered'; // treat as answered for color; review tracked separately
    else if(answers[i]!==null) cls+=' answered';
    else if(review[i]) cls+=' not-answered';
    if(i===current) cls+=' active';
    pal[i].className = cls;
  }
}
function refreshStats(){
  const pal = document.getElementById('pal').children;
  let ans=0, na=0, rev=0, nv=0;
  for(let i=0;i<pal.length;i++){
    if(!visited[i]) nv++;
    if(review[i]) rev++;
    if(visited[i] && answers[i]===null) na++;
    if(answers[i]!==null) ans++;
  }
  document.getElementById('sAns').textContent=ans;
  document.getElementById('sNot').textContent=na;
  document.getElementById('sRev').textContent=rev;
  document.getElementById('sNov').textContent=nv;
}
function prevQ(){ if(current>0) renderQ(current-1); }
function saveNext(){ if(current<QUESTIONS.length-1) renderQ(current+1); }
function clearResp(){ answers[current]=null; renderQ(current); refreshStats(); }
function toggleReview(){ review[current]=!review[current]; highlightPalette(); refreshStats(); }

function finish(){
  // stop timer
  if (typeof timerInterval!=='undefined') try{ clearInterval(timerInterval); }catch(e){}

  let score=0,correct=0,wrong=0,attempted=0;
  for(let i=0;i<QUESTIONS.length;i++){
    const c=(QUESTIONS[i]||{}).correct_index;
    const a=answers[i];
    if(a!==null) attempted++;
    if(c==null || a==null) continue;
    if(Number(a)===Number(c)) {score+=POS;correct++;} else {score+=NEG;wrong++;}
  }
  const unattempted = QUESTIONS.length - attempted;

  // hide exam, show results
  document.getElementById('exam').style.display='none';
  document.getElementById('result').style.display='block';

  document.getElementById('score').textContent = String(score);
  document.getElementById('outof').textContent = 'OUT OF '+(POS*QUESTIONS.length);
  document.getElementById('summary').innerHTML =
    'Correct: <b>'+correct+'</b> &nbsp; | &nbsp; Wrong: <b>'+wrong+
    '</b> &nbsp; | &nbsp; Unattempted: <b>'+unattempted+'</b>';

  // solutions
  const sol = document.getElementById('solutions');
  let h='';
  for(let i=0;i<QUESTIONS.length;i++){
    const q=QUESTIONS[i]||{}; const c=q.correct_index; const a=answers[i];
    h += '<div class="sol"><div style="font-weight:700;margin-bottom:6px">Q.'+(i+1)+'</div>';
    (q.options||[]).forEach((op,j)=>{
      let cls='';
      if(c!=null && j===c) cls=' ok';
      else if(a!=null && j===a && c!=null && a!==c) cls=' bad';
      h += '<div class="'+cls+'" >'+op+'</div>';
    });
    if(q.solution) h += '<div style="margin-top:6px;color:#334155"><small><b>Solution:</b> '+q.solution+'</small></div>';
    h += '</div>';
  }
  sol.innerHTML = h;
  window.scrollTo(0,0);
}

/* Timer */
function startTimer(){
  if (!TOTAL_SECONDS) return;
  const t = document.getElementById('timer');
  function tick(){
    let m = Math.floor(TOTAL_SECONDS/60);
    let s = TOTAL_SECONDS%60;
    t.textContent = String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
    if (TOTAL_SECONDS<=0) { clearInterval(timerInterval); return; }
    TOTAL_SECONDS -= 1;
  }
  tick(); timerInterval = setInterval(tick, 1000);
}

document.addEventListener('DOMContentLoaded', ()=>{
  document.title = 'HECP (Health Education and Community Pharmacy) Mock Test';
  buildPalette();
  if(QUESTIONS.length) renderQ(0);
  startTimer();
});
</script>
</body></html>
