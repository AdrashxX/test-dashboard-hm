<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Pharmaciuetical Jurisprudence Mock Test</title>
<style>
:root{--bg:#f6f7fb;--card:#fff;--border:#e6eaf3;--text:#0b192d;--muted:#6b7280;--blue:#2b8ef6;--blue2:#0ea5e9;--green:#22c55e;--red:#ef4444;--purple:#7c3aed;--shadow:0 2px 12px rgba(2,6,23,.06)}
*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text)}
/* Top bar */
.top{background:#fff;border-bottom:1px solid var(--border);padding:12px 18px;display:flex;align-items:center;gap:12px}
.bcrumb{font-weight:700} .bchip{margin-left:10px;background:#eef2ff;border:1px solid #c7d2fe;color:#374151;border-radius:8px;padding:3px 8px;font-weight:700}
.tsp{flex:1} .timer{background:#eef2ff;border:1px solid #c7d2fe;padding:4px 10px;border-radius:8px;font-weight:700}
/* Main layout */
.main{display:grid;grid-template-columns:1fr 340px;gap:16px;max-width:1200px;margin:0 auto;padding:16px}
.card{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);overflow:hidden}
/* Question header row (marking + timer + review) */
.qhdr{display:flex;align-items:center;gap:10px;padding:12px 16px;border-bottom:1px solid var(--border)}
.pill{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:6px;padding:4px 8px;font-weight:700}
.pill.green{background:#ecfdf5;border-color:#bbf7d0;color:#166534} .pill.red{background:#fee2e2;border-color:#fecaca;color:#991b1b}
.qwrap{padding:16px}
.qid{color:#6b7280;font-size:13px;margin-bottom:6px}
.qtext{font-weight:700;line-height:1.6;margin:6px 0 14px 0}
.opt{display:flex;align-items:center;gap:10px;border:1px solid var(--border);border-radius:10px;padding:12px;margin:10px 0;background:#fff;cursor:pointer;transition:box-shadow .15s,border-color .15s}
.rdot{width:16px;height:16px;border-radius:50%;border:2px solid #cbd5e1;background:#fff}
.opt.selected{border-color:var(--blue);box-shadow:0 0 0 3px rgba(43,142,246,.15)}
/* bottom actions */
.bottom{display:flex;justify-content:space-between;gap:10px;padding:12px 16px;border-top:1px solid var(--border);background:#fff}
.btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 14px;cursor:pointer;font-weight:600}
.btn.ghost{background:#f8fafc}
.btn.primary{background:var(--blue);color:#fff;border-color:var(--blue)}
/* Sidebar */
.sidebar{padding:12px}
.user{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.uav{width:44px;height:44px;border-radius:50%;background:#fee2e2;color:#7f1d1d;font-weight:800;display:flex;align-items:center;justify-content:center}
.uname{font-weight:700}
.stat{border-top:1px solid var(--border);padding-top:10px;margin-top:6px}
.statrow{display:flex;align-items:center;gap:8px;margin:8px 0;color:#111827}
.sdot{width:10px;height:10px;border-radius:50%}
.sgreen{background:#22c55e}.sred{background:#ef4444}.sgrey{background:#94a3b8}.spurple{background:#7c3aed}
.palet{margin-top:10px;border-top:1px solid var(--border);padding-top:12px}
.palgrid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.p{height:40px;border:1px solid var(--border);border-radius:10px;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700}
.p.active{outline:2px solid var(--purple)} .p.answered{background:#ecfdf5;border-color:#bbf7d0} .p.not-answered{background:#fee2e2;border-color:#fecaca}
.subwrap{position:sticky;bottom:0;background:#fff;padding-top:12px}
.submit{width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--blue);background:var(--blue);color:#fff;font-weight:800;cursor:pointer}
/* Result screen */
.result{display:none;max-width:760px;margin:16px auto}
.rbox{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:18px}
.score{font-weight:900;font-size:36px;color:var(--blue);text-align:center}
.subtle{text-align:center;color:#6b7280}
.sol{border:1px solid var(--border);border-radius:10px;padding:12px;margin:12px 0}
.sol .ok{background:#ecfdf5;border:1px solid #bbf7d0;border-radius:8px;padding:8px;margin:6px 0}
.sol .bad{background:#fee2e2;border:1px solid #fecaca;border-radius:8px;padding:8px;margin:6px 0}
@media(max-width:1000px){.main{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="top">
    <div class="bcrumb">Pharmaciuetical Jurisprudence Mock Test</div>
    <span class="bchip">pharmacy</span>
    <div class="tsp"></div>
    <div class="timer">Time Left: <span id="timer">--:--</span></div>
  </div>

  <div id="exam" class="main">
    <!-- Center paper -->
    <section class="card">
      <div class="qhdr">
        <div class="pill green">+4</div>
        <div class="pill red">-1</div>
        <div style="flex:1"></div>
        <button class="btn ghost" onclick="toggleReview()">★ Mark for review</button>
      </div>

      <div class="qwrap">
        <div class="qid" id="qid">Question-1</div>
        <div class="qtext" id="qtext"></div>
        <div id="opts"></div>
      </div>

      <div class="bottom">
        <button class="btn ghost" onclick="prevQ()">‹ Previous</button>
        <div style="display:flex;gap:8px">
          <button class="btn ghost" onclick="clearResp()">Clear Response</button>
          <button class="btn primary" onclick="saveNext()">Save & Next ›</button>
        </div>
      </div>
    </section>

    <!-- Right sidebar -->
    <aside class="card sidebar">
      <div class="user">
        <div class="uav">H</div>
        <div>
          <div class="uname">Harsh</div>
          <div style="color:#6b7280;font-size:12px">Section</div>
        </div>
      </div>

      <div class="stat">
        <div class="statrow"><span class="sdot sgreen"></span> <b id="sAns">0</b> Answered</div>
        <div class="statrow"><span class="sdot sred"></span> <b id="sNot">0</b> Not Answered</div>
        <div class="statrow"><span class="sdot spurple"></span> <b id="sRev">0</b> Marked for Review</div>
        <div class="statrow"><span class="sdot sgrey"></span> <b id="sNov">0</b> Not Visited</div>
      </div>

      <div class="palet">
        <div style="font-weight:700;margin-bottom:8px">pharmacy</div>
        <div id="pal" class="palgrid"></div>
      </div>

      <div class="subwrap">
        <button class="submit" onclick="finish()">Submit Test</button>
      </div>
    </aside>
  </div>

  <!-- Result -->
  <div id="result" class="result">
    <div class="rbox">
      <div class="score" id="score">0</div>
      <div class="subtle" id="outof">OUT OF 0</div>
      <div style="height:1px;background:#e5e7eb;margin:14px 0"></div>
      <div id="summary" style="text-align:center"></div>
    </div>
    <div id="solutions" class="rbox" style="margin-top:16px"></div>
  </div>

<script>
const QUESTIONS = [{"id": "6554791243c226000003f657", "text": "An original\nlicense or a renewal license to sell drugs, unless sooner\nsuspended or cancelled shall be valid for a period of ------------", "options": ["1yr", "2yrs", "3yrs", "5yrs"], "correct_index": 3, "solution": "5yrs"}, {"id": "6554791243c22651b803f69d", "text": "License is not\nnecessary for the sale of", "options": ["Allopathic Drugs", "Homeopathic\nDrugs", "Ayurvedic,\nSiddha or Unani Drugs", "Narcotic Drugs"], "correct_index": 2, "solution": "Ayurvedic,\nSiddha or Unani Drugs"}, {"id": "6554791243c2264b6803f63e", "text": "Non bonded\nLaboratory inspected by the excise inspector at least", "options": ["Once every month", "Once every 6\nmonth", "Once every 3\nmonth", "Once every year"], "correct_index": 0, "solution": "Once every month"}, {"id": "6554791243c226582103f66b", "text": "Which among the\ngiven schedule drugs are essentially labelled as POISON?", "options": ["Schedule G", "Schedule E1", "Schedule X", "Schedule W"], "correct_index": 1, "solution": "Schedule E1"}, {"id": "65561f4d219953a6c21cf31f", "text": "Schedule FF stand for", "options": ["Ophthalmic preparation", "parantal product", "ointment & cream preparation", "false drug manufacturing"], "correct_index": 0, "solution": "Ophthalmic preparation"}, {"id": "65561f4d2199531e571cf301", "text": "Schedule H1 stand for", "options": ["Antibiotic resistance RMP prescribed drug", "Ayurvedic preparation", "good manufacturing practice", "surgical product"], "correct_index": 0, "solution": "Antibiotic resistance RMP prescribed drug"}, {"id": "6554791243c226eb1103f666", "text": "Diseases and\ndisorders listed in which schedule are not claimed to be cured?", "options": ["Schedule C", "Schedule E", "Schedule J", "Schedule D"], "correct_index": 2, "solution": "Schedule J"}, {"id": "6554791243c22652d203f6b6", "text": "A cosmetic is\ndeemed to be misbranded if", "options": ["It contains a\ncolour which is not prescribed", "It is not\nlabelled in a prescribed manner", "The label bears\nany statement which is false or misleading", "All of the above"], "correct_index": 3, "solution": "All of the above"}, {"id": "65561ef143c226a58804de84", "text": "Central or State\ngovernment appoint Drug Inspector under which section of D & C\nAct", "options": ["Section 21", "Section 22", "Section 23", "Section 20"], "correct_index": 0, "solution": "Section 21"}, {"id": "65561ef143c226075d04de61", "text": "Retail license\nfor schedule X drugs is issued in the form", "options": ["20", "21", "20 P", "20 F"], "correct_index": 3, "solution": "20 F"}, {"id": "65561ef143c226466604deac", "text": "License to sell\nby wholesale or to distribute drugs specified in schedule C &\nC1 from motor vehicle is issued in the form", "options": ["20 B", "20 BB", "21 BB", "21 B"], "correct_index": 2, "solution": "21 BB"}, {"id": "6554791243c22652a803f698", "text": "Expired drug\nshould be", "options": ["Returned to the\nwholesaler", "Destroyed at the\npremises of license", "Returned to the\nmanufacturer", "Distributed free\nto the poor patients"], "correct_index": 1, "solution": "Destroyed at the\npremises of license"}, {"id": "65561ef143c226a60d04de8e", "text": "Which section of\nthe D & C Act define the procedure of inspection?", "options": ["Section 21", "Section 22", "Section 23", "Section 20"], "correct_index": 2, "solution": "Section 23"}, {"id": "6554791243c2267e5703f643", "text": "The word for\n“prophylactic use” or “for therapeutic use”\nshould be displaced on the label of", "options": ["Schedule X drugs", "Schedule H1", "Schedule G drugs", "Patent or\nproprietary preparation of vitamin"], "correct_index": 3, "solution": "Patent or\nproprietary preparation of vitamin"}, {"id": "6554791243c2263f5d03f684", "text": "A drug is\nimported or manufactured by the name of other drug is called", "options": ["Spurious drug", "Misbranded", "Adulterated", "All of the above"], "correct_index": 0, "solution": "Spurious drug"}, {"id": "6554791243c226055d03f65c", "text": "Application for\nlicense to import drugs for the purpose of test, exam, anaalysis", "options": ["Form 11", "Form 12", "Form 12 A", "Form 12 B"], "correct_index": 1, "solution": "Form 12"}, {"id": "6554791243c226022703f675", "text": "Which form is\nrequired to apply for grant, renewal of a restricted (license to\nsell, stock or exhibit or offer for sale or distribute) drugs by a\ndealer?", "options": ["Form 19", "Form 19 A", "Form 19 C", "Form 19 B"], "correct_index": 1, "solution": "Form 19 A"}, {"id": "65561ef143c226ffab04de93", "text": "Government\nAnalyst is appointed by the central or state government under", "options": ["Section 20", "Section 22", "Section 23", "Section 24"], "correct_index": 0, "solution": "Section 20"}, {"id": "65561ef143c226686904de66", "text": "Wholesale\nlicense for schedule X drugs is issued in the form", "options": ["19", "20", "20 G", "24 F"], "correct_index": 2, "solution": "20 G"}, {"id": "65561ef143c2264d6104dea2", "text": "Power of Drug\nInspector is", "options": ["Inspection of\npremises where any drug or cosmetic is manufactured", "Inspection of\npremises where any drug or cosmetic is sold or stocked or\nexhibited for sale", "Stop and search\nany vehicle, vessel or other conveyance being used for carrying\nany drug or cosmetic", "All of the above"], "correct_index": 3, "solution": "All of the above"}, {"id": "6554791243c226f64103f661", "text": "License for\nrepacking of which schedule drug is not granted?", "options": ["H", "C & C1", "FF", "K"], "correct_index": 1, "solution": "C & C1"}, {"id": "6554791243c226c53503f67f", "text": "Drug Technical\nAdvisory Board (DTAB) is constituted by the Central Government for\nduration of", "options": ["3yrs", "5yrs", "1yr", "6yrs"], "correct_index": 0, "solution": "3yrs"}, {"id": "6554791243c226beb503f6b1", "text": "If a Drug has\nbeen substituted wholly or in part by another Drug or substance is\ndeemed to be", "options": ["Adulterated\nDrugs", "Spurious Drugs", "Misbranded Drugs", "Narcotic Drugs"], "correct_index": 1, "solution": "Spurious Drugs"}, {"id": "65561f4d219953447c1cf30b", "text": "how many drug were included in DPCO 2013", "options": ["76", "250", "600", "348"], "correct_index": 3, "solution": "348"}, {"id": "6554791243c22601e803f652", "text": "Provision of\nDPCO are implemented and enforced by", "options": ["NPPA", "DCC", "DTAB", "None of the\nabove"], "correct_index": 0, "solution": "NPPA"}, {"id": "65561f4d2199537c111cf306", "text": "What does \"RPC\" represent in context of legal ethics ?", "options": ["Responsible practice committee", "Reliable professional certification", "Rules of professional conduct", "Rational professional conducts"], "correct_index": 2, "solution": "Rules of professional conduct"}, {"id": "65561ef143c2263ff804de70", "text": "Central\ngovernment appoint drug Inspector under the provision of", "options": ["Drugs and\nCosmetic Act - 1940", "NDPS Act, 1985", "DPCO, 1995", "Excise Duties\nAct - 1955"], "correct_index": 0, "solution": "Drugs and\nCosmetic Act - 1940"}, {"id": "65561ef143c22607f004dea7", "text": "Drug Inspector\nseizing stock of any drugs or cosmetic or any record, register or\nany other material should tender a receipt in", "options": ["Form 16", "Form 17", "Form 18", "Form 20"], "correct_index": 0, "solution": "Form 16"}, {"id": "6554791243c226a9de03f6a2", "text": "Application is\nmade in which form to obtain license for Homeopathic Drugs", "options": ["19", "19 A", "19 B", "19 C"], "correct_index": 2, "solution": "19 B"}, {"id": "6554791243c226b6b703f670", "text": "Education\nRegulation (ER) Are prepared by the", "options": ["Central\ngovernment", "State government", "State Pharmacy\nCouncil", "Pharma Council\nof India"], "correct_index": 3, "solution": "Pharma Council\nof India"}, {"id": "6554791243c226814503f693", "text": "The version of\nGMP in India that describe requirement of factory premises for\nmanufacture of cosmetics:", "options": ["Schedule M", "Schedule M1", "Schedule M2", "Schedule M3"], "correct_index": 2, "solution": "Schedule M2"}, {"id": "65561ef143c2263ec904de7f", "text": "Ayurvedic,\nSiddha and Unani drugs are manufactured according to the formulae\nprescribed in the books specified in the", "options": ["First schedule\nof the D& C Act", "Second schedule\nof the D& C Act", "Schedule E1", "Schedule T"], "correct_index": 0, "solution": "First schedule\nof the D& C Act"}, {"id": "65561ef143c226df7804de75", "text": "Which of the\nfollowing is executive body of Drug & Cosmetic Act 1940?", "options": ["Drug Technical\nAdvisory Board (DTAB)", "Drug\nconsultative Committee (DCC)", "Government\nAnalyst", "Custom Collector"], "correct_index": 3, "solution": "Custom Collector"}, {"id": "6554791243c22620e703f64d", "text": "Central register\nis maintained by PCI under --------------- of pharmacy act", "options": ["Section 10", "Section 12", "Section 14", "Section 15A"], "correct_index": 3, "solution": "Section 15A"}, {"id": "65561f4d21995363521cf31a", "text": "When was Drug and Magic remedies Act established?", "options": ["30th April, 1989", "30th April, 2003", "30th April, 1985", "30th April, 1954"], "correct_index": 3, "solution": "30th April, 1954"}, {"id": "65561f4d219953a6951cf315", "text": "HATHI committee report 1975 recommendation are", "options": ["self sufficiency in medicine", "availability of drug reasonable rate", "BOTH ( self sufficiency in medicine & availability of drug reasonable rate )", "none of these"], "correct_index": 2, "solution": "BOTH ( self sufficiency in medicine & availability of drug reasonable rate )"}, {"id": "6554791243c2260cb303f6ac", "text": "Wholesale\nlicense for sale of Homeopathic medicine is issued in the form", "options": ["20 A", "20 B", "20 C", "20 D"], "correct_index": 3, "solution": "20 D"}, {"id": "6554791243c2265f5d03f68e", "text": "Which schedule\nstates life period of drugs?", "options": ["H", "P", "R", "O"], "correct_index": 1, "solution": "P"}, {"id": "6554791243c226546303f6a7", "text": "Retail license\nfor sale of Homeopathic medicine is issued in the form", "options": ["Form 20P or Form 20Q", "Form 20X or Form 20M", "Form 20C or Form 20D", "Form 20A or Form 20M"], "correct_index": 2, "solution": "Form 20C or Form 20D"}, {"id": "6554791243c2260d1203f6bb", "text": "It is revealed\nthat a dosage form contains less amount of drug than prescribed on\nthe label. This dosage form is considered as", "options": ["Adulterated\nDrugs", "Spurious Drugs", "Misbranded Drugs", "Narcotic Drugs"], "correct_index": 2, "solution": "Misbranded Drugs"}, {"id": "65561ef143c226545504de89", "text": "Schedule Y was\nintroduced in D & C Act in", "options": ["1975", "1980", "1988", "1995"], "correct_index": 2, "solution": "1988"}, {"id": "6554791243c226280d03f689", "text": "Conversation of\nany provisions of the DPCO shall be punishable as per", "options": ["Essential\nCommodities Act", "Drug and\nCosmetic Act", "Medical and\nToilet Preparation Act", "Pharmacy Act"], "correct_index": 0, "solution": "Essential\nCommodities Act"}, {"id": "65561ef143c2264cc704de6b", "text": "Expired drugs\nare considered as", "options": ["Obsolete items", "Essential items", "Poisonous items", "Emergency items"], "correct_index": 0, "solution": "Obsolete items"}, {"id": "65561ef143c2265bb204de98", "text": "CDSCO is the\nabbreviated form of", "options": ["Central Drug\nStandard Organisation", "Central Drug\nStandard Control Organisation", "Central Drug &\nCosmetic Organisation", "Central drug\nStandard Cooperation"], "correct_index": 1, "solution": "Central Drug\nStandard Control Organisation"}, {"id": "65561ef143c226090b04de9d", "text": "HQ’s of\nCDSCO are located at", "options": ["Mumbai", "New Delhi", "Pune", "Chennai"], "correct_index": 1, "solution": "New Delhi"}, {"id": "65561f4d2199537e061cf310", "text": "as per DPCO 2013 annual price increase not excreeding of maximum retail price fixed by NPPA", "options": ["5%", "8%", "10%", "20%"], "correct_index": 2, "solution": "10%"}, {"id": "6554791243c22653b203f648", "text": "The PCI was constituted on 9.8.49 under section ............ of the Pharmacy Act", "options": ["section 3", "section 2", "section 4", "section 5"], "correct_index": 0, "solution": "section 3"}, {"id": "65561ef143c2268dc204de5c", "text": "Application for grant or renewal of a 2[licence to sell, stock, exhibit or offer for sale, or distribute] of drugs specified in Schedule X drugs?", "options": ["19", "19 A", "19 AA", "19 C"], "correct_index": 3, "solution": "19 C"}, {"id": "6554791243c2264a3903f67a", "text": "Minimum area\nrequirement for obtaining a retail pharmacy is?", "options": ["10sq.m.", "15sq.m.", "50sq.m.", "100sq.m."], "correct_index": 0, "solution": "10sq.m."}, {"id": "65561ef143c226430404de7a", "text": "Permission to\ninitiated clinical trial is given by", "options": ["ITRC", "NPPA", "CDSCO", "CDRI"], "correct_index": 2, "solution": "CDSCO"}];
const POS = 4; const NEG = -1;
let TOTAL_SECONDS = 2700;

let current=0;
let answers = new Array(QUESTIONS.length).fill(null);
let visited = new Array(QUESTIONS.length).fill(false);
let review  = new Array(QUESTIONS.length).fill(false);
let timerInterval;

function renderQ(i){
  current=i; visited[i]=true;
  const q = QUESTIONS[i] || {};
  document.getElementById('qid').textContent = 'Question-'+(i+1);
  document.getElementById('qtext').textContent = q.text || '';
  const box = document.getElementById('opts'); box.innerHTML='';
  (q.options||[]).forEach((op,j)=>{
    const row = document.createElement('label'); row.className='opt'+(answers[i]===j?' selected':'');
    const dot = document.createElement('span'); dot.className='rdot';
    const input = document.createElement('input'); input.type='radio'; input.name='q'+i; input.value=String(j); input.style.display='none';
    input.checked = (answers[i]===j);
    input.onchange = ()=>{ answers[i]=j; renderQ(i); refreshStats(); };
    row.appendChild(dot); row.appendChild(input); row.append(' '+op);
    row.onclick = (ev)=>{ if(ev.target.tagName!=='INPUT'){ input.checked=true; input.dispatchEvent(new Event('change')); } };
    box.appendChild(row);
  });
  highlightPalette();
}

function buildPalette(){
  const pal = document.getElementById('pal'); pal.innerHTML='';
  for(let i=0;i<QUESTIONS.length;i++){
    const d = document.createElement('div'); d.className='p'; d.textContent = i+1;
    d.onclick=()=>renderQ(i); pal.appendChild(d);
  }
  highlightPalette(); refreshStats();
}
function highlightPalette(){
  const pal = document.getElementById('pal').children;
  for(let i=0;i<pal.length;i++){
    let cls='p';
    if(!visited[i]){}
    else if(answers[i]===null && !review[i]) cls+=' not-answered';
    else if(answers[i]!==null && review[i]) cls+=' answered'; // treat as answered for color; review tracked separately
    else if(answers[i]!==null) cls+=' answered';
    else if(review[i]) cls+=' not-answered';
    if(i===current) cls+=' active';
    pal[i].className = cls;
  }
}
function refreshStats(){
  const pal = document.getElementById('pal').children;
  let ans=0, na=0, rev=0, nv=0;
  for(let i=0;i<pal.length;i++){
    if(!visited[i]) nv++;
    if(review[i]) rev++;
    if(visited[i] && answers[i]===null) na++;
    if(answers[i]!==null) ans++;
  }
  document.getElementById('sAns').textContent=ans;
  document.getElementById('sNot').textContent=na;
  document.getElementById('sRev').textContent=rev;
  document.getElementById('sNov').textContent=nv;
}
function prevQ(){ if(current>0) renderQ(current-1); }
function saveNext(){ if(current<QUESTIONS.length-1) renderQ(current+1); }
function clearResp(){ answers[current]=null; renderQ(current); refreshStats(); }
function toggleReview(){ review[current]=!review[current]; highlightPalette(); refreshStats(); }

function finish(){
  // stop timer
  if (typeof timerInterval!=='undefined') try{ clearInterval(timerInterval); }catch(e){}

  let score=0,correct=0,wrong=0,attempted=0;
  for(let i=0;i<QUESTIONS.length;i++){
    const c=(QUESTIONS[i]||{}).correct_index;
    const a=answers[i];
    if(a!==null) attempted++;
    if(c==null || a==null) continue;
    if(Number(a)===Number(c)) {score+=POS;correct++;} else {score+=NEG;wrong++;}
  }
  const unattempted = QUESTIONS.length - attempted;

  // hide exam, show results
  document.getElementById('exam').style.display='none';
  document.getElementById('result').style.display='block';

  document.getElementById('score').textContent = String(score);
  document.getElementById('outof').textContent = 'OUT OF '+(POS*QUESTIONS.length);
  document.getElementById('summary').innerHTML =
    'Correct: <b>'+correct+'</b> &nbsp; | &nbsp; Wrong: <b>'+wrong+
    '</b> &nbsp; | &nbsp; Unattempted: <b>'+unattempted+'</b>';

  // solutions
  const sol = document.getElementById('solutions');
  let h='';
  for(let i=0;i<QUESTIONS.length;i++){
    const q=QUESTIONS[i]||{}; const c=q.correct_index; const a=answers[i];
    h += '<div class="sol"><div style="font-weight:700;margin-bottom:6px">Q.'+(i+1)+'</div>';
    (q.options||[]).forEach((op,j)=>{
      let cls='';
      if(c!=null && j===c) cls=' ok';
      else if(a!=null && j===a && c!=null && a!==c) cls=' bad';
      h += '<div class="'+cls+'" >'+op+'</div>';
    });
    if(q.solution) h += '<div style="margin-top:6px;color:#334155"><small><b>Solution:</b> '+q.solution+'</small></div>';
    h += '</div>';
  }
  sol.innerHTML = h;
  window.scrollTo(0,0);
}

/* Timer */
function startTimer(){
  if (!TOTAL_SECONDS) return;
  const t = document.getElementById('timer');
  function tick(){
    let m = Math.floor(TOTAL_SECONDS/60);
    let s = TOTAL_SECONDS%60;
    t.textContent = String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
    if (TOTAL_SECONDS<=0) { clearInterval(timerInterval); return; }
    TOTAL_SECONDS -= 1;
  }
  tick(); timerInterval = setInterval(tick, 1000);
}

document.addEventListener('DOMContentLoaded', ()=>{
  document.title = 'Pharmaciuetical Jurisprudence Mock Test';
  buildPalette();
  if(QUESTIONS.length) renderQ(0);
  startTimer();
});
</script>
</body></html>
